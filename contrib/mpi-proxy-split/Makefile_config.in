# FIXME: We should eventually dynamically choose this address in setLhMemRange.
#        Then, we won't need this configure variable.
MANA_USE_LH_FIXED_ADDRESS = @MANA_USE_LH_FIXED_ADDRESS@


ifeq ($(findstring cori,$(PLATFORM)),cori)
  MPICC = cc
  MPICXX = CC
  MPI_LD_FLAG = -lmpich
  MPIRUN = srun
  MPI_CFLAGS?= -g3 -O0 -std=c99 -fPIC
  MPI_CXXFLAGS?= -g3 -O0 -std=c99 -fPIC
  MPI_LDFLAGS?= -dynamic
else
  MPI_BIN = @MPI_BIN@
  MPI_LIB = @MPI_LIB@
  MPI_INCLUDE = @MPI_INCLUDE@
  MPICC = @MPICC@
  MPICXX = @MPICXX@
  MPIRUN = @MPIRUN@
  MPI_LD_FLAG = @MPI_LD_FLAG@
  MPI_CFLAGS?= @MPI_CFLAGS@
  MPI_CXXFLAGS?= @MPI_CXXFLAGS@
  MPI_LDFLAGS?= @MPI_LDFLAGS@
endif

# If you trust your MPI distro package, this is another option:
#   MPICC = mpicc
#   MPICXX = mpic++
#   MPIRUN = mpirun
#   MPI_LD_FLAG = -lmpi
#   MPI_CFLAGS?= -g3 -O0 -std=c99 -fPIC
#   MPI_CXXFLAGS?= -g3 -O0 -std=c99 -fPIC
#   MPI_LDFLAGS?=
